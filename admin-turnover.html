<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Daily Turnover Management System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --primary-color: #198754; /* green */
      --sidebar-width: 250px;
    }

    body {
      background-color: #f8f9fa;
      font-size: 14px;
    }

    /* Sidebar */
    #sidebar {
      width: var(--sidebar-width);
      min-height: 100vh;
      background-color: #111827;
      position: fixed;
      top: 0;
      left: 0;
      padding-top: 20px;
      color: white;
      z-index: 1000;
      box-shadow: 4px 0 15px rgba(0,0,0,0.35);
    }

    #sidebar h4 {
      font-size: 1.1rem;
      letter-spacing: .04em;
    }

    #sidebar .nav-link {
      color: #9ca3af;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      transition: background-color .2s, color .2s;
      font-size: .96rem;
      border-radius: 0;
    }

    #sidebar .nav-link i {
      margin-right: 8px;
    }

    #sidebar .nav-link:hover,
    #sidebar .nav-link.active {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #022c22;
    }

    /* Content */
    #content {
      margin-left: var(--sidebar-width);
      padding: 20px;
    }

    .card-header {
      background-color: var(--primary-color) !important;
      color: #fff !important;
      font-weight: 600;
    }

    .tab-content .tab-pane { display: none; }
    .tab-content .tab-pane.active { display: block; }

    .text-small { font-size: 12px; }

    .status-text {
      font-size: 12px;
      margin-top: 6px;
      min-height: 18px;
    }

    .status-ok { color: #16a34a; }
    .status-error { color: #dc2626; }

    pre.small-pre {
      font-size: 11px;
      background-color: #0f172a;
      color: #e5e7eb;
      padding: 8px;
      border-radius: 6px;
    }

    .badge-country {
      font-size: 0.8rem;
      padding: 4px 8px;
    }

    .pill-note {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      border-radius: 999px;
      padding: 3px 8px;
      background: rgba(148,163,184,0.15);
      font-size: 11px;
    }

    .pill-note.green {
      background: rgba(34,197,94,0.15);
      color: #15803d;
    }

    .pill-note.blue {
      background: rgba(59,130,246,0.15);
      color: #1d4ed8;
    }

    .pill-note.red {
      background: rgba(248,113,113,0.18);
      color: #b91c1c;
    }

    textarea {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
    }
  </style>
</head>
<body>

<!-- SIDEBAR -->
<div id="sidebar">
  <h4 class="text-center mb-4 text-warning">
    Turnover System
  </h4>
  <nav class="nav flex-column">
    <a class="nav-link active" id="global-tab" href="#global" onclick="showTab('global')">
      <i class="fas fa-globe"></i> GLOBAL Leaderboard
    </a>
    <a class="nav-link" id="brazil-tab" href="#brazil" onclick="showTab('brazil')">
      üáßüá∑ Brazil
    </a>
    <a class="nav-link" id="mexico-tab" href="#mexico" onclick="showTab('mexico')">
      üá≤üáΩ Mexico
    </a>
  </nav>
</div>

<!-- MAIN CONTENT -->
<div id="content">
  <h1 class="h4 mb-2">Daily Turnover Management</h1>
  <p class="text-muted text-small mb-3">
    Your team updates Brazil &amp; Mexico every 2 hours. This tool saves raw data into D1, converts to USD, and builds the GLOBAL leaderboard used on the public page.
  </p>
  <hr>

  <div class="tab-content">

    <!-- GLOBAL TAB -->
    <div class="tab-pane active" id="global">
      <div class="card shadow-sm mb-4">
        <div class="card-header bg-success">
          <i class="fas fa-trophy"></i> GLOBAL Leaderboard &amp; Summary (USD)
        </div>
        <div class="card-body">
          <p class="text-muted mb-3">
            Combined <strong>Brazil + Mexico</strong>, converted to USD and ranked by Score (USD).
          </p>

          <div class="row g-3 mb-3">
            <div class="col-md-3">
              <label for="globalDate" class="form-label text-small">
                Leaderboard Date <span class="pill-note blue">Mexico time (UTC-6)</span>
              </label>
              <input type="date" class="form-control form-control-sm" id="globalDate">
            </div>
            <div class="col-md-3">
              <label for="globalPlayer" class="form-label text-small">Filter by Username</label>
              <input type="text" class="form-control form-control-sm" id="globalPlayer" placeholder="e.g. fabiano199">
            </div>
            <div class="col-md-3 d-flex align-items-end">
              <button class="btn btn-secondary btn-sm w-100" id="globalSearchBtn">
                <i class="fas fa-search"></i> Load Leaderboard
              </button>
            </div>
            <div class="col-md-3 d-flex align-items-end">
              <div id="globalStatus" class="status-text"></div>
            </div>
          </div>

          <div class="table-responsive">
            <table class="table table-striped table-hover table-sm align-middle">
              <thead class="table-dark">
                <tr>
                  <th scope="col" style="width:60px;">Rank</th>
                  <th scope="col">Username</th>
                  <th scope="col" style="width:90px;">Country</th>
                  <th scope="col" style="width:150px;">Score (USD)</th>
                </tr>
              </thead>
              <tbody id="globalTableBody">
              <!-- filled by JS -->
              </tbody>
            </table>
          </div>

          <p class="text-small text-muted mt-2 mb-0">
            To correct data: re-upload <strong>Brazil</strong> or <strong>Mexico</strong> with the same <strong>date</strong> and <strong>time slot</strong>.  
            The backend overwrites rows for that key and rebuilds this leaderboard automatically.
          </p>
        </div>
      </div>
    </div>

    <!-- BRAZIL TAB -->
    <div class="tab-pane" id="brazil">
      <div class="card shadow-sm mb-4">
        <div class="card-header">
          üáßüá∑ Brazil Turnover Data Entry (BRL)
        </div>
        <div class="card-body">
          <p class="text-small text-danger mb-2">
            ‚ö†Ô∏è Brazil players are included in the same daily ranking as Mexico.  
            Select the <strong>Mexico day (UTC-6)</strong> and the latest 2-hour cumulative slot.
          </p>

          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <label for="brDate" class="form-label text-small">
                Leaderboard Date <span class="pill-note blue">Mexico (UTC-6)</span>
              </label>
              <input type="date" class="form-control form-control-sm" id="brDate">
            </div>
            <div class="col-md-4">
              <label for="brTime" class="form-label text-small">
                Time Slot / Type <span class="pill-note green">Cumulative</span>
              </label>
              <select id="brTime" class="form-select form-select-sm">
                <!-- values are slotKey used by backend -->
                <option value="00_02">00:00 ‚Äì 02:00 (from 00:00)</option>
                <option value="00_04">00:00 ‚Äì 04:00</option>
                <option value="00_06">00:00 ‚Äì 06:00</option>
                <option value="00_08">00:00 ‚Äì 08:00</option>
                <option value="00_10">00:00 ‚Äì 10:00</option>
                <option value="00_12">00:00 ‚Äì 12:00</option>
                <option value="00_14">00:00 ‚Äì 14:00</option>
                <option value="00_16">00:00 ‚Äì 16:00</option>
                <option value="00_18">00:00 ‚Äì 18:00</option>
                <option value="00_20">00:00 ‚Äì 20:00</option>
                <option value="00_22">00:00 ‚Äì 22:00</option>
                <option value="00_24">00:00 ‚Äì 24:00 (full day)</option>
                <option value="BR_00_03">BR 00:00 ‚Äì 03:00 (local Brazil ‚Äì deduct)</option>
              </select>
            </div>
          </div>

          <div class="d-flex mb-2">
            <button class="btn btn-sm btn-outline-primary me-2" onclick="toggleMode('brazil','manual')">
              Manual Entry
            </button>
            <button class="btn btn-sm btn-outline-primary" onclick="toggleMode('brazil','csv')">
              CSV Upload
            </button>
          </div>

          <!-- Manual entry -->
          <div id="brazil-manual" class="data-mode">
            <label for="brDataArea" class="form-label text-small">
              Paste data <span class="pill-note">username, cumulative BRL turnover</span>
            </label>
            <textarea class="form-control" id="brDataArea" rows="7"
              placeholder="Example:
fabiano199, 2500.50
anotheruser, 1800.00"></textarea>
          </div>

          <!-- CSV upload -->
          <div id="brazil-csv" class="data-mode" style="display:none;">
            <label for="brCsvFile" class="form-label text-small">Upload CSV (.csv)</label>
            <input type="file" class="form-control form-control-sm" id="brCsvFile" accept=".csv">
            <a href="#" id="brTemplateLink" class="d-inline-block mt-1 text-small">
              <i class="fas fa-download"></i> Download CSV template
            </a>
            <p class="text-small text-muted mt-2 mb-0">
              Uploaded CSV content will fill the textbox automatically. You can still edit before saving.
            </p>
          </div>

          <div class="mt-3">
            <button type="button" class="btn btn-outline-secondary btn-sm me-2" onclick="previewCountry('BR')">
              <i class="fas fa-eye"></i> Preview parsed rows
            </button>
            <button type="button" class="btn btn-primary btn-sm" onclick="saveCountry('BR')">
              <i class="fas fa-upload"></i> Save Brazil data
            </button>
            <div id="brStatus" class="status-text"></div>
          </div>

          <div class="table-responsive mt-2" id="brPreviewBlock" style="display:none; max-height:260px; overflow:auto;">
            <table class="table table-sm table-striped table-hover align-middle mb-0">
              <thead class="table-light">
                <tr>
                  <th style="width:50px;">#</th>
                  <th>Username</th>
                  <th>Turnover (BRL)</th>
                </tr>
              </thead>
              <tbody id="brPreviewBody"></tbody>
            </table>
          </div>

          <p class="text-small text-muted mt-2 mb-0">
            Overwrite rule: rows are keyed by <strong>country + date + time slot</strong>.  
            If you upload wrong data, just select the same values again, paste correct lines and press <strong>Save</strong> ‚Äì old rows are removed and replaced.
          </p>
        </div>
      </div>
    </div>

    <!-- MEXICO TAB -->
    <div class="tab-pane" id="mexico">
      <div class="card shadow-sm mb-4">
        <div class="card-header">
          üá≤üáΩ Mexico Turnover Data Entry (MXN)
        </div>
        <div class="card-body">
          <p class="text-small text-info mb-2">
            ‚ÑπÔ∏è Mexico day cycle: <strong>00:00 ‚Äì 23:59 (UTC-6)</strong>.  
            Use cumulative turnover from 00:00 up to the latest 2-hour mark.
          </p>

          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <label for="mxDate" class="form-label text-small">
                Leaderboard Date <span class="pill-note blue">Mexico (UTC-6)</span>
              </label>
              <input type="date" class="form-control form-control-sm" id="mxDate">
            </div>
            <div class="col-md-4">
              <label for="mxTime" class="form-label text-small">
                Time Slot / Type <span class="pill-note green">Cumulative</span>
              </label>
              <select id="mxTime" class="form-select form-select-sm">
                <option value="00_02">00:00 ‚Äì 02:00 (from 00:00)</option>
                <option value="00_04">00:00 ‚Äì 04:00</option>
                <option value="00_06">00:00 ‚Äì 06:00</option>
                <option value="00_08">00:00 ‚Äì 08:00</option>
                <option value="00_10">00:00 ‚Äì 10:00</option>
                <option value="00_12">00:00 ‚Äì 12:00</option>
                <option value="00_14">00:00 ‚Äì 14:00</option>
                <option value="00_16">00:00 ‚Äì 16:00</option>
                <option value="00_18">00:00 ‚Äì 18:00</option>
                <option value="00_20">00:00 ‚Äì 20:00</option>
                <option value="00_22">00:00 ‚Äì 22:00</option>
                <option value="00_24">00:00 ‚Äì 24:00 (full day)</option>
              </select>
            </div>
          </div>

          <div class="d-flex mb-2">
            <button class="btn btn-sm btn-outline-primary me-2" onclick="toggleMode('mexico','manual')">
              Manual Entry
            </button>
            <button class="btn btn-sm btn-outline-primary" onclick="toggleMode('mexico','csv')">
              CSV Upload
            </button>
          </div>

          <!-- Manual entry -->
          <div id="mexico-manual" class="data-mode">
            <label for="mxDataArea" class="form-label text-small">
              Paste data <span class="pill-note">username, cumulative MXN turnover</span>
            </label>
            <textarea class="form-control" id="mxDataArea" rows="7"
              placeholder="Example:
mxplayer01, 20000.00
mxplayer02, 12000.00"></textarea>
          </div>

          <!-- CSV upload -->
          <div id="mexico-csv" class="data-mode" style="display:none;">
            <label for="mxCsvFile" class="form-label text-small">Upload CSV (.csv)</label>
            <input type="file" class="form-control form-control-sm" id="mxCsvFile" accept=".csv">
            <a href="#" id="mxTemplateLink" class="d-inline-block mt-1 text-small">
              <i class="fas fa-download"></i> Download CSV template
            </a>
            <p class="text-small text-muted mt-2 mb-0">
              Uploaded CSV content will fill the textbox automatically. You can still edit before saving.
            </p>
          </div>

          <div class="mt-3">
            <button type="button" class="btn btn-outline-secondary btn-sm me-2" onclick="previewCountry('MX')">
              <i class="fas fa-eye"></i> Preview parsed rows
            </button>
            <button type="button" class="btn btn-primary btn-sm" onclick="saveCountry('MX')">
              <i class="fas fa-upload"></i> Save Mexico data
            </button>
            <div id="mxStatus" class="status-text"></div>
          </div>

          <div class="table-responsive mt-2" id="mxPreviewBlock" style="display:none; max-height:260px; overflow:auto;">
            <table class="table table-sm table-striped table-hover align-middle mb-0">
              <thead class="table-light">
                <tr>
                  <th style="width:50px;">#</th>
                  <th>Username</th>
                  <th>Turnover (MXN)</th>
                </tr>
              </thead>
              <tbody id="mxPreviewBody"></tbody>
            </table>
          </div>

          <p class="text-small text-muted mt-2 mb-0">
            To amend a mistake: choose the same date and time slot, paste the corrected list and click <strong>Save Mexico data</strong>.
          </p>
        </div>
      </div>
    </div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>

<script>
  // ------- TAB SWITCHING -------
  function showTab(tabId) {
    document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('#sidebar .nav-link').forEach(l => l.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    document.getElementById(tabId + '-tab').classList.add('active');
  }

  // ------- MODE SWITCH (manual / csv) -------
  function toggleMode(country, mode) {
    const manualDiv = document.getElementById(country + '-manual');
    const csvDiv = document.getElementById(country + '-csv');
    if (mode === 'manual') {
      manualDiv.style.display = 'block';
      csvDiv.style.display = 'none';
    } else {
      manualDiv.style.display = 'none';
      csvDiv.style.display = 'block';
    }
  }

  // ------- Helpers -------
  function setStatus(country, message, type) {
    const el = document.getElementById(country.toLowerCase() + 'Status');
    if (!el) return;
    el.textContent = message || '';
    el.classList.remove('status-ok', 'status-error');
    if (type === 'ok') el.classList.add('status-ok');
    if (type === 'error') el.classList.add('status-error');
  }

  function setGlobalStatus(msg, type) {
    const el = document.getElementById('globalStatus');
    el.textContent = msg || '';
    el.classList.remove('status-ok', 'status-error');
    if (type === 'ok') el.classList.add('status-ok');
    if (type === 'error') el.classList.add('status-error');
  }

  // Parse textarea lines into [{username, turnover}]
  function parseLines(text) {
    const lines = (text || '').split(/\r?\n/);
    const rows = [];
    const errors = [];

    lines.forEach((line, idx) => {
      const trimmed = line.trim();
      if (!trimmed) return;
      const parts = trimmed.split(/[,;\t]/).map(p => p.trim()).filter(Boolean);
      if (parts.length < 2) {
        errors.push('Line ' + (idx + 1) + ': not enough values');
        return;
      }
      const username = parts[0];
      const numStr = parts[1].replace(/,/g, '');
      const turnover = Number(numStr);
      if (!username) {
        errors.push('Line ' + (idx + 1) + ': missing username');
        return;
      }
      if (!Number.isFinite(turnover)) {
        errors.push('Line ' + (idx + 1) + ': invalid turnover "' + parts[1] + '"');
        return;
      }
      rows.push({ username, turnover });
    });

    return { rows, errors };
  }

  // ------- CSV upload just copies content into textarea -------
  function setupCsvUpload(fileInputId, textareaId) {
    const fileInput = document.getElementById(fileInputId);
    const textarea = document.getElementById(textareaId);
    if (!fileInput || !textarea) return;

    fileInput.addEventListener('change', () => {
      const file = fileInput.files && fileInput.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        textarea.value = e.target.result || '';
      };
      reader.readAsText(file);
    });
  }

  setupCsvUpload('brCsvFile', 'brDataArea');
  setupCsvUpload('mxCsvFile', 'mxDataArea');

  // ------- CSV template download -------
  function setupTemplateLink(linkId, examplePrefix) {
    const link = document.getElementById(linkId);
    if (!link) return;
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const csv = "username,turnover\n" +
        examplePrefix + "player01, 1500.00\n" +
        examplePrefix + "player02, 900.00\n";
      const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = examplePrefix + "template.csv";
      a.click();
      URL.revokeObjectURL(url);
    });
  }
  setupTemplateLink('brTemplateLink', 'br');
  setupTemplateLink('mxTemplateLink', 'mx');

  // ------- Preview for country -------
  function previewCountry(countryCode) {
    const upper = countryCode.toUpperCase();
    const textareaId = upper === 'BR' ? 'brDataArea' : 'mxDataArea';
    const previewBlockId = upper === 'BR' ? 'brPreviewBlock' : 'mxPreviewBlock';
    const previewBodyId = upper === 'BR' ? 'brPreviewBody' : 'mxPreviewBody';

    const textarea = document.getElementById(textareaId);
    const previewBlock = document.getElementById(previewBlockId);
    const previewBody = document.getElementById(previewBodyId);

    const parsed = parseLines(textarea.value);
    const statusName = upper === 'BR' ? 'BR' : 'MX';

    if (parsed.errors.length) {
      setStatus(statusName, parsed.errors[0], 'error');
      previewBlock.style.display = 'none';
      return;
    }

    setStatus(statusName, 'Parsed ' + parsed.rows.length + ' rows.', parsed.rows.length ? 'ok' : '');

    previewBody.innerHTML = '';
    parsed.rows.forEach((r, idx) => {
      const tr = document.createElement('tr');
      tr.innerHTML = '<td>' + (idx + 1) + '</td>' +
        '<td>' + r.username + '</td>' +
        '<td>' + r.turnover + '</td>';
      previewBody.appendChild(tr);
    });
    previewBlock.style.display = parsed.rows.length ? 'block' : 'none';
  }

  // ------- Save to /api-admin-save -------
  async function saveCountry(countryCode) {
    const upper = countryCode.toUpperCase();
    const dateEl = document.getElementById(upper === 'BR' ? 'brDate' : 'mxDate');
    const slotEl = document.getElementById(upper === 'BR' ? 'brTime' : 'mxTime');
    const textareaEl = document.getElementById(upper === 'BR' ? 'brDataArea' : 'mxDataArea');

    const date = dateEl.value;
    const slotKey = slotEl.value;

    if (!date) {
      setStatus(upper, 'Please choose a leaderboard date.', 'error');
      return;
    }

    const parsed = parseLines(textareaEl.value);
    if (parsed.errors.length) {
      setStatus(upper, parsed.errors[0], 'error');
      return;
    }
    if (!parsed.rows.length) {
      setStatus(upper, 'No rows to save.', 'error');
      return;
    }

    setStatus(upper, 'Saving ' + parsed.rows.length + ' rows‚Ä¶', '');

    try {
      const res = await fetch('/api-admin-save', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          country: upper,
          date,
          slotKey,
          rows: parsed.rows
        })
      });

      const text = await res.text();
      let json = {};
      try { json = JSON.parse(text); } catch (e) {}

      if (!res.ok || !json.ok) {
        setStatus(upper, (json.error || 'Save failed with status ' + res.status), 'error');
      } else {
        setStatus(upper, 'Saved ' + (json.inserted || 0) + ' rows for ' + upper +
          ' [' + date + ', ' + slotKey + '].', 'ok');
        previewCountry(upper); // refresh preview
      }
    } catch (e) {
      setStatus(upper, 'Network error while saving.', 'error');
    }
  }

  // ------- GLOBAL leaderboard load -------
  async function loadGlobalLeaderboard() {
    const dateEl = document.getElementById('globalDate');
    const playerEl = document.getElementById('globalPlayer');
    const tbody = document.getElementById('globalTableBody');

    const date = dateEl.value;
    const filter = (playerEl.value || '').trim().toLowerCase();

    if (!date) {
      setGlobalStatus('Please choose a date first.', 'error');
      return;
    }

    setGlobalStatus('Loading leaderboard‚Ä¶', '');

    try {
      const res = await fetch('/api-leaderboard?date=' + encodeURIComponent(date));
      const text = await res.text();
      let json = {};
      try { json = JSON.parse(text); } catch (e) {}

      if (!res.ok || !json.ok) {
        setGlobalStatus(json.error || ('Error ' + res.status + ' loading leaderboard'), 'error');
        return;
      }

      const rows = (json.rows || []).filter(r => {
        if (!filter) return true;
        return String(r.username || '').toLowerCase().includes(filter);
      });

      tbody.innerHTML = '';
      if (!rows.length) {
        setGlobalStatus('No entries for ' + json.date + ' yet.', '');
        return;
      }

      rows.forEach((p) => {
        const tr = document.createElement('tr');
        const flag = p.country === 'BR' ? 'üáßüá∑' : (p.country === 'MX' ? 'üá≤üáΩ' : 'üåê');
        tr.innerHTML =
          '<td>' + (p.rank ?? '-') + '</td>' +
          '<td>' + (p.username || '') + '</td>' +
          '<td>' + flag + ' ' + (p.country || '') + '</td>' +
          '<td>$' + Number(p.usd_turnover || 0).toFixed(2) + '</td>';
        tbody.appendChild(tr);
      });

      setGlobalStatus('Showing ' + rows.length + ' players for ' + json.date + '.', 'ok');
    } catch (e) {
      setGlobalStatus('Network error loading leaderboard.', 'error');
    }
  }

  document.getElementById('globalSearchBtn').addEventListener('click', loadGlobalLeaderboard);

  // ------- Default dates = today (Mexico time UTC-6) -------
  function todayMexicoISO() {
    const nowUtcMs = Date.now();
    const offsetMs = -6 * 60 * 60 * 1000;
    const mexNow = new Date(nowUtcMs + offsetMs);
    const y = mexNow.getFullYear();
    const m = String(mexNow.getMonth() + 1).padStart(2, "0");
    const d = String(mexNow.getDate()).padStart(2, "0");
    return `${y}-${m}-${d}`;
  }

  document.addEventListener('DOMContentLoaded', () => {
    showTab('global');
    const today = todayMexicoISO();
    document.getElementById('globalDate').value = today;
    document.getElementById('brDate').value = today;
    document.getElementById('mxDate').value = today;
    loadGlobalLeaderboard();
  });
</script>

</body>
</html>
